!function(e,t){function n(e){var t=this;if(e)for(var n in e){var r=i.extenders[n];"function"==typeof r&&(t=r(t,e[n]))}return t}function r(e,t,n){if(e&&"object"==typeof e?n=e:(n=n||{},n.read=e||n.read,n.owner=t||n.owner),"function"!=typeof n.read)throw"Pass a function that returns the value of the dependentObservable";return n}var i=e.ko={};i.exportSymbol=function(t,n){for(var r=t.split("."),i=e,o=0;o<r.length-1;o++)i=i[r[o]];i[r[r.length-1]]=n},i.exportProperty=function(e,t,n){e[t]=n},i.utils=new function(){function t(e,t){if("INPUT"!=e.tagName||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type.toLowerCase();return"checkbox"==n||"radio"==n}var n=/MSIE 6/i.test(navigator.userAgent),r=/MSIE 7/i.test(navigator.userAgent),o={click:1,dblclick:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1};return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},arrayIndexOf:function(e,t){if("function"==typeof e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r]))return e[r];return null},arrayRemoveItem:function(e,t){var n=i.utils.arrayIndexOf(e,t);n>=0&&e.splice(n,1)},arrayMap:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r]));return n},arrayFilter:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)t(e[r])&&n.push(e[r]);return n},arrayPushAll:function(e,t){for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},emptyDomNode:function(e){for(;e.firstChild;)i.removeNode(e.firstChild)},setDomNodeChildren:function(e,t){i.utils.emptyDomNode(e),t&&i.utils.arrayForEach(t,function(t){e.appendChild(t)})},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(n.length>0){for(var r=n[0],o=r.parentNode,a=0,s=t.length;a<s;a++)o.insertBefore(t[a],r);for(var a=0,s=n.length;a<s;a++)i.removeNode(n[a])}},setOptionNodeSelectionState:function(e,t){navigator.userAgent.indexOf("MSIE 6")>=0?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return(e||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},stringTokenize:function(e,t){for(var n=[],r=(e||"").split(t),o=0,a=r.length;o<a;o++){var s=i.utils.stringTrim(r[o]);""!==s&&n.push(s)}return n},stringStartsWith:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},evalWithinScope:function(e){for(var t=Array.prototype.slice.call(arguments,1),n="return ("+e+")",r=0;r<t.length;r++)t[r]&&"object"==typeof t[r]&&(n="with(sc["+r+"]) { "+n+" } ");return new Function("sc",n)(t)},domNodeIsContainedBy:function(e,t){if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;null!=e;){if(e==t)return!0;e=e.parentNode}return!1},domNodeIsAttachedToDocument:function(e){return i.utils.domNodeIsContainedBy(e,document)},registerEventHandler:function(e,n,r){if("undefined"!=typeof jQuery){if(t(e,n)){var i=r;r=function(e,t){var n=this.checked;t&&(this.checked=t.checkedStateBeforeEvent!==!0),i.call(this,e),this.checked=n}}jQuery(e).bind(n,r)}else if("function"==typeof e.addEventListener)e.addEventListener(n,r,!1);else{if(void 0===e.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");e.attachEvent("on"+n,function(t){r.call(e,t)})}},triggerEvent:function(n,r){if(!n||!n.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");if("undefined"!=typeof jQuery){var i=[];t(n,r)&&i.push({checkedStateBeforeEvent:n.checked}),jQuery(n).trigger(r,i)}else if("function"==typeof document.createEvent){if("function"!=typeof n.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var a=r in o?"MouseEvents":"HTMLEvents",s=document.createEvent(a);s.initEvent(r,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(s)}else{if(void 0===n.fireEvent)throw new Error("Browser doesn't support triggering events");"click"==r&&("INPUT"!=n.tagName||"checkbox"!=n.type.toLowerCase()&&"radio"!=n.type.toLowerCase()||(n.checked=n.checked!==!0)),n.fireEvent("on"+r)}},unwrapObservable:function(e){return i.isObservable(e)?e():e},domNodeHasCssClass:function(e,t){var n=(e.className||"").split(/\s+/);return i.utils.arrayIndexOf(n,t)>=0},toggleDomNodeCssClass:function(e,t,n){var r=i.utils.domNodeHasCssClass(e,t);if(n&&!r)e.className=(e.className||"")+" "+t;else if(r&&!n){for(var o=(e.className||"").split(/\s+/),a="",s=0;s<o.length;s++)o[s]!=t&&(a+=o[s]+" ");e.className=i.utils.stringTrim(a)}},outerHTML:function(t){var n=t.outerHTML;if("string"==typeof n)return n;var r=e.document.createElement("div");return r.appendChild(t.cloneNode(!0)),r.innerHTML},range:function(e,t){e=i.utils.unwrapObservable(e),t=i.utils.unwrapObservable(t);for(var n=[],r=e;r<=t;r++)n.push(r);return n},makeArray:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},isIe6:n,isIe7:r,getFormFields:function(e,t){for(var n=i.utils.makeArray(e.getElementsByTagName("INPUT")).concat(i.utils.makeArray(e.getElementsByTagName("TEXTAREA"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],a=n.length-1;a>=0;a--)r(n[a])&&o.push(n[a]);return o},parseJson:function(t){return"string"==typeof t&&(t=i.utils.stringTrim(t))?e.JSON&&e.JSON.parse?e.JSON.parse(t):new Function("return "+t)():null},stringifyJson:function(e){if("undefined"==typeof JSON||void 0===JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(i.utils.unwrapObservable(e))},postJson:function(e,t,n){n=n||{};var r=n.params||{},o=n.includeFields||this.fieldsIncludedWithJsonPost,a=e;if("object"==typeof e&&"FORM"==e.tagName){var s=e;a=s.action;for(var l=o.length-1;l>=0;l--)for(var u=i.utils.getFormFields(s,o[l]),d=u.length-1;d>=0;d--)r[u[d].name]=u[d].value}t=i.utils.unwrapObservable(t);var p=document.createElement("FORM");p.style.display="none",p.action=a,p.method="post";for(var c in t){var m=document.createElement("INPUT");m.name=c,m.value=i.utils.stringifyJson(i.utils.unwrapObservable(t[c])),p.appendChild(m)}for(var c in r){var m=document.createElement("INPUT");m.name=c,m.value=r[c],p.appendChild(m)}document.body.appendChild(p),n.submitter?n.submitter(p):p.submit(),setTimeout(function(){p.parentNode.removeChild(p)},0)}}},i.exportSymbol("ko.utils",i.utils),i.exportSymbol("ko.utils.arrayForEach",i.utils.arrayForEach),i.exportSymbol("ko.utils.arrayFirst",i.utils.arrayFirst),i.exportSymbol("ko.utils.arrayFilter",i.utils.arrayFilter),i.exportSymbol("ko.utils.arrayGetDistinctValues",i.utils.arrayGetDistinctValues),i.exportSymbol("ko.utils.arrayIndexOf",i.utils.arrayIndexOf),i.exportSymbol("ko.utils.arrayMap",i.utils.arrayMap),i.exportSymbol("ko.utils.arrayPushAll",i.utils.arrayPushAll),i.exportSymbol("ko.utils.arrayRemoveItem",i.utils.arrayRemoveItem),i.exportSymbol("ko.utils.extend",i.utils.extend),i.exportSymbol("ko.utils.fieldsIncludedWithJsonPost",i.utils.fieldsIncludedWithJsonPost),i.exportSymbol("ko.utils.getFormFields",i.utils.getFormFields),i.exportSymbol("ko.utils.postJson",i.utils.postJson),i.exportSymbol("ko.utils.parseJson",i.utils.parseJson),i.exportSymbol("ko.utils.registerEventHandler",i.utils.registerEventHandler),i.exportSymbol("ko.utils.stringifyJson",i.utils.stringifyJson),i.exportSymbol("ko.utils.range",i.utils.range),i.exportSymbol("ko.utils.toggleDomNodeCssClass",i.utils.toggleDomNodeCssClass),i.exportSymbol("ko.utils.triggerEvent",i.utils.triggerEvent),i.exportSymbol("ko.utils.unwrapObservable",i.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),i.utils.domData=new function(){var e=0,n="__ko__"+(new Date).getTime(),r={};return{get:function(e,n){var r=i.utils.domData.getAll(e,!1);return r===t?t:r[n]},set:function(e,n,r){if(r!==t||i.utils.domData.getAll(e,!1)!==t){i.utils.domData.getAll(e,!0)[n]=r}},getAll:function(i,o){var a=i[n];if(!a||"null"===a){if(!o)return t;a=i[n]="ko"+e++,r[a]={}}return r[a]},clear:function(e){var t=e[n];t&&(delete r[t],e[n]=null)}}},i.exportSymbol("ko.utils.domData",i.utils.domData),i.exportSymbol("ko.utils.domData.clear",i.utils.domData.clear),i.utils.domNodeDisposal=new function(){function e(e,n){var r=i.utils.domData.get(e,o);return r===t&&n&&(r=[],i.utils.domData.set(e,o,r)),r}function n(e){i.utils.domData.set(e,o,t)}function r(t){var n=e(t,!1);if(n){n=n.slice(0);for(var r=0;r<n.length;r++)n[r](t)}i.utils.domData.clear(t),"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([t])}var o="__ko_domNodeDisposal__"+(new Date).getTime();return{addDisposeCallback:function(t,n){if("function"!=typeof n)throw new Error("Callback must be a function");e(t,!0).push(n)},removeDisposeCallback:function(t,r){var o=e(t,!1);o&&(i.utils.arrayRemoveItem(o,r),0==o.length&&n(t))},cleanNode:function(e){if(1==e.nodeType||9==e.nodeType){r(e);var t=[];i.utils.arrayPushAll(t,e.getElementsByTagName("*"));for(var n=0,o=t.length;n<o;n++)r(t[n])}},removeNode:function(e){i.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)}}},i.cleanNode=i.utils.domNodeDisposal.cleanNode,i.removeNode=i.utils.domNodeDisposal.removeNode,i.exportSymbol("ko.cleanNode",i.cleanNode),i.exportSymbol("ko.removeNode",i.removeNode),i.exportSymbol("ko.utils.domNodeDisposal",i.utils.domNodeDisposal),i.exportSymbol("ko.utils.domNodeDisposal.addDisposeCallback",i.utils.domNodeDisposal.addDisposeCallback),i.exportSymbol("ko.utils.domNodeDisposal.removeDisposeCallback",i.utils.domNodeDisposal.removeDisposeCallback),function(){function e(e){e=e||"";for(var t=[];e.match(n);)e=e.replace(n,function(){var e=arguments[1],n=arguments[2];return e&&t.push(document.createTextNode(e)),t.push(document.createComment(n)),""});var r=i.utils.stringTrim(e).toLowerCase(),o=document.createElement("div"),a=r.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!r.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!r.indexOf("<td")||!r.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];for(o.innerHTML=a[1]+e+a[2];a[0]--;)o=o.lastChild;return t.concat(i.utils.makeArray(o.childNodes))}var n=/^(\s*)<!--(.*?)-->/;i.utils.parseHtmlFragment=function(t){return"undefined"!=typeof jQuery?jQuery.clean([t]):e(t)},i.utils.setHtml=function(e,n){if(i.utils.emptyDomNode(e),null!==n&&n!==t)if("string"!=typeof n&&(n=n.toString()),"undefined"!=typeof jQuery)jQuery(e).html(n);else for(var r=i.utils.parseHtmlFragment(n),o=0;o<r.length;o++)e.appendChild(r[o])}}(),i.exportSymbol("ko.utils.parseHtmlFragment",i.utils.parseHtmlFragment),i.memoization=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()}function r(e,t){if(e)if(8==e.nodeType){var n=i.memoization.parseMemoText(e.nodeValue);null!=n&&t.push({domNode:e,memoId:n})}else if(1==e.nodeType)for(var o=0,a=e.childNodes,s=a.length;o<s;o++)r(a[o],t)}var o={};return{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=n();return o[t]=e,"<!--[ko_memo:"+t+"]-->"},unmemoize:function(e,n){var r=o[e];if(r===t)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete o[e]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];r(e,n);for(var o=0,a=n.length;o<a;o++){var s=n[o].domNode,l=[s];t&&i.utils.arrayPushAll(l,t),i.memoization.unmemoize(n[o].memoId,l),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),i.exportSymbol("ko.memoization",i.memoization),i.exportSymbol("ko.memoization.memoize",i.memoization.memoize),i.exportSymbol("ko.memoization.unmemoize",i.memoization.unmemoize),i.exportSymbol("ko.memoization.parseMemoText",i.memoization.parseMemoText),i.exportSymbol("ko.memoization.unmemoizeDomNodeAndDescendants",i.memoization.unmemoizeDomNodeAndDescendants),i.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return i.dependentObservable({read:e,write:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}})}},i.exportSymbol("ko.extenders",i.extenders),i.subscription=function(e,t){this.callback=e,this.disposeCallback=t,i.exportProperty(this,"dispose",this.dispose)},i.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},i.subscribable=function(){this._subscriptions=[],i.utils.extend(this,i.subscribable.fn),i.exportProperty(this,"subscribe",this.subscribe),i.exportProperty(this,"extend",this.extend),i.exportProperty(this,"notifySubscribers",this.notifySubscribers),i.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)},i.subscribable.fn={subscribe:function(e,t){var n=t?e.bind(t):e,r=new i.subscription(n,function(){i.utils.arrayRemoveItem(this._subscriptions,r)}.bind(this));return this._subscriptions.push(r),r},notifySubscribers:function(e){i.utils.arrayForEach(this._subscriptions.slice(0),function(t){t&&t.isDisposed!==!0&&t.callback(e)})},getSubscriptionsCount:function(){return this._subscriptions.length},extend:n},i.isSubscribable=function(e){return"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},i.exportSymbol("ko.subscribable",i.subscribable),i.exportSymbol("ko.isSubscribable",i.isSubscribable),i.dependencyDetection=function(){var e=[];return{begin:function(t){e.push({callback:t,distinctDependencies:[]})},end:function(){e.pop()},registerDependency:function(t){if(!i.isSubscribable(t))throw"Only subscribable things can act as dependencies";if(e.length>0){var n=e[e.length-1];if(i.utils.arrayIndexOf(n.distinctDependencies,t)>=0)return;n.distinctDependencies.push(t),n.callback(t)}}}}();var o={undefined:!0,boolean:!0,number:!0,string:!0};i.observable=function(e){function t(){return arguments.length>0?(t.equalityComparer&&t.equalityComparer(n,arguments[0])||(n=arguments[0],t.notifySubscribers(n)),this):(i.dependencyDetection.registerDependency(t),n)}var n=e;return i.subscribable.call(t),t.valueHasMutated=function(){t.notifySubscribers(n)},i.utils.extend(t,i.observable.fn),i.exportProperty(t,"valueHasMutated",t.valueHasMutated),t},i.observable.fn={__ko_proto__:i.observable,equalityComparer:function(e,t){return!!(null===e||typeof e in o)&&e===t}},i.isObservable=function(e){return null!==e&&e!==t&&e.__ko_proto__!==t&&(e.__ko_proto__===i.observable||i.isObservable(e.__ko_proto__))},i.isWriteableObservable=function(e){return"function"==typeof e&&e.__ko_proto__===i.observable||!("function"!=typeof e||e.__ko_proto__!==i.dependentObservable||!e.hasWriteFunction)},i.exportSymbol("ko.observable",i.observable),i.exportSymbol("ko.isObservable",i.isObservable),i.exportSymbol("ko.isWriteableObservable",i.isWriteableObservable),i.observableArray=function(e){if(0==arguments.length&&(e=[]),null!==e&&e!==t&&!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var n=new i.observable(e);return i.utils.extend(n,i.observableArray.fn),i.exportProperty(n,"remove",n.remove),i.exportProperty(n,"removeAll",n.removeAll),i.exportProperty(n,"destroy",n.destroy),i.exportProperty(n,"destroyAll",n.destroyAll),i.exportProperty(n,"indexOf",n.indexOf),i.exportProperty(n,"replace",n.replace),n},i.observableArray.fn={remove:function(e){for(var t=this(),n=[],r=[],i="function"==typeof e?e:function(t){return t===e},o=0,a=t.length;o<a;o++){var s=t[o];i(s)?r.push(s):n.push(s)}return this(n),r},removeAll:function(e){if(e===t){var n=this();return this([]),n}return e?this.remove(function(t){return i.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){for(var t=this(),n="function"==typeof e?e:function(t){return t===e},r=t.length-1;r>=0;r--){n(t[r])&&(t[r]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return i.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return i.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this()[n]=t,this.valueHasMutated())}},i.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){i.observableArray.fn[e]=function(){var t=this(),n=t[e].apply(t,arguments);return this.valueHasMutated(),n}}),i.utils.arrayForEach(["slice"],function(e){i.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),i.exportSymbol("ko.observableArray",i.observableArray),i.dependentObservable=function(e,t,n){function o(){i.utils.arrayForEach(f,function(e){e.dispose()}),f=[]}function a(){var e=l.throttleEvaluation;e&&e>=0?(clearTimeout(b),b=setTimeout(s,e)):s()}function s(){if(d&&"function"==typeof n.disposeWhen&&n.disposeWhen())return void l.dispose();try{o(),i.dependencyDetection.begin(function(e){f.push(e.subscribe(a))}),u=n.owner?n.read.call(n.owner):n.read()}finally{i.dependencyDetection.end()}l.notifySubscribers(u),d=!0}function l(){if(!(arguments.length>0))return d||s(),i.dependencyDetection.registerDependency(l),u;if("function"!=typeof n.write)throw"Cannot write a value to a dependentObservable unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.";var e=n.owner;n.write.apply(e,arguments)}var u,d=!1,n=r(e,t,n),p="object"==typeof n.disposeWhenNodeIsRemoved?n.disposeWhenNodeIsRemoved:null,c=null;if(p){c=function(){l.dispose()},i.utils.domNodeDisposal.addDisposeCallback(p,c);var m=n.disposeWhen;n.disposeWhen=function(){return!i.utils.domNodeIsAttachedToDocument(p)||"function"==typeof m&&m()}}var f=[],b=null;return l.getDependenciesCount=function(){return f.length},l.hasWriteFunction="function"==typeof n.write,l.dispose=function(){p&&i.utils.domNodeDisposal.removeDisposeCallback(p,c),o()},i.subscribable.call(l),i.utils.extend(l,i.dependentObservable.fn),n.deferEvaluation!==!0&&s(),i.exportProperty(l,"dispose",l.dispose),i.exportProperty(l,"getDependenciesCount",l.getDependenciesCount),l},i.dependentObservable.fn={__ko_proto__:i.dependentObservable},i.dependentObservable.__ko_proto__=i.observable,i.exportSymbol("ko.dependentObservable",i.dependentObservable),i.exportSymbol("ko.computed",i.dependentObservable),function(){function e(i,o,a){if(a=a||new r,!("object"==typeof(i=o(i))&&null!==i&&i!==t))return i;var s=i instanceof Array?[]:{};return a.save(i,s),n(i,function(n){var r=o(i[n]);switch(typeof r){case"boolean":case"number":case"string":case"function":s[n]=r;break;case"object":case"undefined":var l=a.get(r);s[n]=l!==t?l:e(r,o,a)}}),s}function n(e,t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(n);else for(var r in e)t(r)}function r(){var e=[],n=[];this.save=function(t,r){var o=i.utils.arrayIndexOf(e,t);o>=0?n[o]=r:(e.push(t),n.push(r))},this.get=function(r){var o=i.utils.arrayIndexOf(e,r);return o>=0?n[o]:t}}i.toJS=function(t){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;i.isObservable(e)&&t<10;t++)e=e();return e})},i.toJSON=function(e){var t=i.toJS(e);return i.utils.stringifyJson(t)}}(),i.exportSymbol("ko.toJS",i.toJS),i.exportSymbol("ko.toJSON",i.toJSON),function(){i.selectExtensions={readValue:function(e){return"OPTION"==e.tagName?e.__ko__hasDomDataOptionValue__===!0?i.utils.domData.get(e,i.bindingHandlers.options.optionValueDomDataKey):e.getAttribute("value"):"SELECT"==e.tagName?e.selectedIndex>=0?i.selectExtensions.readValue(e.options[e.selectedIndex]):t:e.value},writeValue:function(e,n){if("OPTION"==e.tagName)switch(typeof n){case"string":case"number":i.utils.domData.set(e,i.bindingHandlers.options.optionValueDomDataKey,t),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=n;break;default:i.utils.domData.set(e,i.bindingHandlers.options.optionValueDomDataKey,n),e.__ko__hasDomDataOptionValue__=!0,e.value=""}else if("SELECT"==e.tagName){for(var r=e.options.length-1;r>=0;r--)if(i.selectExtensions.readValue(e.options[r])==n){e.selectedIndex=r;break}}else null!==n&&n!==t||(n=""),e.value=n}}}(),i.exportSymbol("ko.selectExtensions",i.selectExtensions),i.exportSymbol("ko.selectExtensions.readValue",i.selectExtensions.readValue),i.exportSymbol("ko.selectExtensions.writeValue",i.selectExtensions.writeValue),i.jsonExpressionRewriting=function(){function e(e,t){for(var n=null;e!=n;)n=e,e=e.replace(r,function(e,n){return t[n]});return e}function t(e){return!(i.utils.arrayIndexOf(a,i.utils.stringTrim(e).toLowerCase())>=0)&&null!==e.match(o)}function n(e){var t=i.utils.stringTrim(e);switch(t.length&&t.charAt(0)){case"'":case'"':return e;default:return"'"+t+"'"}}var r=/\@ko_token_(\d+)\@/g,o=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,a=["true","false"];return{bindingRewriteValidators:[],parseObjectLiteral:function(t){var n=i.utils.stringTrim(t);if(n.length<3)return[];"{"===n.charAt(0)&&(n=n.substring(1,n.length-1));for(var r,o=[],a=null,s=0;s<n.length;s++){var l=n.charAt(s);if(null===a)switch(l){case'"':case"'":case"/":a=s,r=l}else if(l==r&&"\\"!==n.charAt(s-1)){var u=n.substring(a,s+1);o.push(u);var d="@ko_token_"+(o.length-1)+"@";n=n.substring(0,a)+d+n.substring(s+1),s-=u.length-d.length,a=null}}a=null,r=null;for(var p=0,c=null,s=0;s<n.length;s++){var l=n.charAt(s);if(null===a)switch(l){case"{":a=s,c=l,r="}";break;case"(":a=s,c=l,r=")";break;case"[":a=s,c=l,r="]"}if(l===c)p++;else if(l===r&&0===--p){var u=n.substring(a,s+1);o.push(u);var d="@ko_token_"+(o.length-1)+"@";n=n.substring(0,a)+d+n.substring(s+1),s-=u.length-d.length,a=null}}for(var m=[],f=n.split(","),b=0,g=f.length;b<g;b++){var v=f[b],y=v.indexOf(":");if(y>0&&y<v.length-1){var h=v.substring(0,y),w=v.substring(y+1);m.push({key:e(h,o),value:e(w,o)})}else m.push({unknown:e(v,o)})}return m},insertPropertyAccessorsIntoJson:function(e){for(var r,o="string"==typeof e?i.jsonExpressionRewriting.parseObjectLiteral(e):e,a=[],s=[],l=0;r=o[l];l++)if(a.length>0&&a.push(","),r.key){var u=n(r.key),d=r.value;a.push(u),a.push(":"),a.push(d),t(i.utils.stringTrim(d))&&(s.length>0&&s.push(", "),s.push(u+" : function(__ko_value) { "+d+" = __ko_value; }"))}else r.unknown&&a.push(r.unknown);var p=a.join("");if(s.length>0){p=p+", '_ko_property_writers' : { "+s.join("")+" } "}return p},keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(i.utils.stringTrim(e[n].key)==t)return!0;return!1}}}(),i.exportSymbol("ko.jsonExpressionRewriting",i.jsonExpressionRewriting),i.exportSymbol("ko.jsonExpressionRewriting.bindingRewriteValidators",i.jsonExpressionRewriting.bindingRewriteValidators),i.exportSymbol("ko.jsonExpressionRewriting.parseObjectLiteral",i.jsonExpressionRewriting.parseObjectLiteral),i.exportSymbol("ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson),function(){function e(e){return 8==e.nodeType&&e.nodeValue.match(s)}function n(e){return 8==e.nodeType&&e.nodeValue.match(l)}function r(t){for(var r=t,i=1,o=[];r=r.nextSibling;){if(n(r)&&0===--i)return o;o.push(r),e(r)&&i++}throw new Error("Cannot find closing comment tag to match: "+t.nodeValue)}function o(e){var t=r(e);return t.length>0?t[t.length-1].nextSibling:e.nextSibling}function a(e,t){for(var n=[],r=0,o=e.length;r<o;r++)t&&i.utils.domNodeDisposal.cleanNode(e[r]),n.push(i.utils.outerHTML(e[r]));return String.prototype.concat.apply("",n)}var s=/^\s*ko\s+(.*\:.*)\s*$/,l=/^\s*\/ko\s*$/;i.virtualElements={allowedBindings:{},childNodes:function(t){return e(t)?r(t):t.childNodes},emptyNode:function(t){if(e(t))for(var n=i.virtualElements.childNodes(t),r=0,o=n.length;r<o;r++)i.removeNode(n[r]);else i.utils.emptyDomNode(t)},setDomNodeChildren:function(t,n){if(e(t)){i.virtualElements.emptyNode(t);for(var r=t.nextSibling,o=0,a=n.length;o<a;o++)r.parentNode.insertBefore(n[o],r)}else i.utils.setDomNodeChildren(t,n)},prepend:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},insertAfter:function(t,n,r){e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n)},nextSibling:function(r){return e(r)?o(r).nextSibling:r.nextSibling&&n(r.nextSibling)?t:r.nextSibling},virtualNodeBindingValue:function(t){var n=e(t);return n?n[1]:null},extractAnonymousTemplateIfVirtualElement:function(e){if(i.virtualElements.virtualNodeBindingValue(e)){var t=i.virtualElements.childNodes(e),n=a(t,!0);i.virtualElements.emptyNode(e),new i.templateSources.anonymousTemplate(e).text(n)}}}}(),function(){i.bindingProvider=function(){},i.utils.extend(i.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind");case 8:return null!=i.virtualElements.virtualNodeBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t):null},getBindingsString:function(e,t){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return i.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,n){try{var r=n.$data,o=" { "+i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(t)+" } ";return i.utils.evalWithinScope(o,null===r?e:r,n)}catch(e){throw new Error("Unable to parse bindings.\nMessage: "+e+";\nBindings value: "+t)}}}),i.bindingProvider.instance=new i.bindingProvider}(),i.exportSymbol("ko.bindingProvider",i.bindingProvider),function(){function n(e){if(!i.virtualElements.allowedBindings[e])throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function r(e,t){for(var n,r=t.childNodes[0];n=r;)r=i.virtualElements.nextSibling(n),o(e,n,!1)}function o(e,t,n){var o=!0,s=1==t.nodeType;(s&&n||i.bindingProvider.instance.nodeHasBindings(t))&&(o=a(t,null,e,n).shouldBindDescendants),s&&o&&r(e,t)}function a(e,r,o,a){function s(e){return function(){return d[e]}}function l(){return d}var u=!0;i.virtualElements.extractAnonymousTemplateIfVirtualElement(e);var d,p;return new i.dependentObservable(function(){var c=o&&o instanceof i.bindingContext?o:new i.bindingContext(i.utils.unwrapObservable(o)),m=c.$data;a&&i.storedBindingContextForNode(e,c);var f="function"==typeof r?r():r;if(d=f||i.bindingProvider.instance.getBindings(e,c)){if(u)for(var b in d){var g=i.bindingHandlers[b];if(g&&8===e.nodeType&&n(b),g&&"function"==typeof g.init){var v=g.init,y=v(e,s(b),l,m,c);if(y&&y.controlsDescendantBindings){if(p!==t)throw new Error("Multiple bindings ("+p+" and "+b+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");p=b}}}for(var b in d){var g=i.bindingHandlers[b];if(g&&"function"==typeof g.update){(0,g.update)(e,s(b),l,m,c)}}}},null,{disposeWhenNodeIsRemoved:e}),u=!1,{shouldBindDescendants:p===t}}i.bindingHandlers={},i.bindingContext=function(e,t){this.$data=e,t?(this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent),this.$root=t.$root):(this.$parents=[],this.$root=e)},i.bindingContext.prototype={createChildContext:function(e){return new i.bindingContext(e,this)}};i.storedBindingContextForNode=function(e,t){if(2!=arguments.length)return i.utils.domData.get(e,"__ko_bindingContext__");i.utils.domData.set(e,"__ko_bindingContext__",t)},i.applyBindingsToNode=function(e,t,n){return a(e,t,n,!0)},i.applyBindings=function(t,n){if(n&&1!==n.nodeType&&8!==n.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||e.document.body,o(t,n,!0)},i.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=i.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return i.contextFor(e.parentNode)}return t},i.dataFor=function(e){var n=i.contextFor(e);return n?n.$data:t},i.exportSymbol("ko.bindingHandlers",i.bindingHandlers),i.exportSymbol("ko.applyBindings",i.applyBindings),i.exportSymbol("ko.applyBindingsToNode",i.applyBindingsToNode),i.exportSymbol("ko.contextFor",i.contextFor),i.exportSymbol("ko.dataFor",i.dataFor)}();var a=["click"];i.utils.arrayForEach(a,function(e){i.bindingHandlers[e]={init:function(t,n,r,o){var a=function(){var t={};return t[e]=n(),t};return i.bindingHandlers.event.init.call(this,t,a,r,o)}}}),i.bindingHandlers.event={init:function(e,t,n,r){var o=t()||{};for(var a in o)!function(){var o=a;"string"==typeof o&&i.utils.registerEventHandler(e,o,function(e){var i,a=t()[o],s=n();try{i=a.apply(r,arguments)}finally{i!==!0&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}s[o+"Bubble"]!==!1||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())})}()}},i.bindingHandlers.submit={init:function(e,t,n,r){if("function"!=typeof t())throw new Error("The value for a submit binding must be a function to invoke on submit");i.utils.registerEventHandler(e,"submit",function(n){var i,o=t();try{i=o.call(r,e)}finally{i!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},i.bindingHandlers.visible={update:function(e,t){var n=i.utils.unwrapObservable(t()),r=!("none"==e.style.display);n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},i.bindingHandlers.enable={update:function(e,t){var n=i.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},i.bindingHandlers.disable={update:function(e,t){i.bindingHandlers.enable.update(e,function(){return!i.utils.unwrapObservable(t())})}},i.bindingHandlers.value={init:function(e,t,n){var r=n().valueUpdate||"change",o=!1;i.utils.stringStartsWith(r,"after")&&(o=!0,r=r.substring("after".length));var a=o?function(e){setTimeout(e,0)}:function(e){e()};i.utils.registerEventHandler(e,r,function(){a(function(){var r=t(),o=i.selectExtensions.readValue(e);if(i.isWriteableObservable(r))r(o);else{var a=n();a._ko_property_writers&&a._ko_property_writers.value&&a._ko_property_writers.value(o)}})})},update:function(e,t){var n=i.utils.unwrapObservable(t()),r=i.selectExtensions.readValue(e),o=n!=r;if(0===n&&0!==r&&"0"!==r&&(o=!0),o){var a=function(){i.selectExtensions.writeValue(e,n)};a();"SELECT"==e.tagName&&setTimeout(a,0)}"SELECT"==e.tagName&&(r=i.selectExtensions.readValue(e))!==n&&i.utils.triggerEvent(e,"change")}},i.bindingHandlers.options={update:function(e,n,r){if("SELECT"!=e.tagName)throw new Error("options binding applies only to SELECT elements");var o=i.utils.arrayMap(i.utils.arrayFilter(e.childNodes,function(e){return e.tagName&&"OPTION"==e.tagName&&e.selected}),function(e){return i.selectExtensions.readValue(e)||e.innerText||e.textContent}),a=e.scrollTop,s=i.utils.unwrapObservable(n());e.value;if(i.utils.emptyDomNode(e),s){var l=r();if("number"!=typeof s.length&&(s=[s]),l.optionsCaption){var u=document.createElement("OPTION");u.innerHTML=l.optionsCaption,i.selectExtensions.writeValue(u,t),e.appendChild(u)}for(var d=0,p=s.length;d<p;d++){var u=document.createElement("OPTION"),c="string"==typeof l.optionsValue?s[d][l.optionsValue]:s[d],m=l.optionsText;optionText="function"==typeof m?m(s[d]):"string"==typeof m?s[d][m]:c,c=i.utils.unwrapObservable(c),optionText=i.utils.unwrapObservable(optionText),i.selectExtensions.writeValue(u,c),u.innerHTML=optionText.toString(),e.appendChild(u)}for(var f=e.getElementsByTagName("OPTION"),b=0,d=0,p=f.length;d<p;d++)i.utils.arrayIndexOf(o,i.selectExtensions.readValue(f[d]))>=0&&(i.utils.setOptionNodeSelectionState(f[d],!0),b++);a&&(e.scrollTop=a)}}},i.bindingHandlers.options.optionValueDomDataKey="__ko.bindingHandlers.options.optionValueDomData__",i.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(e){for(var t=[],n=e.childNodes,r=0,o=n.length;r<o;r++){
var a=n[r];"OPTION"==a.tagName&&a.selected&&t.push(i.selectExtensions.readValue(a))}return t},init:function(e,t,n){i.utils.registerEventHandler(e,"change",function(){var e=t();if(i.isWriteableObservable(e))e(i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this));else{var r=n();r._ko_property_writers&&r._ko_property_writers.value&&r._ko_property_writers.value(i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this))}})},update:function(e,t){if("SELECT"!=e.tagName)throw new Error("values binding applies only to SELECT elements");var n=i.utils.unwrapObservable(t());if(n&&"number"==typeof n.length)for(var r=e.childNodes,o=0,a=r.length;o<a;o++){var s=r[o];"OPTION"==s.tagName&&i.utils.setOptionNodeSelectionState(s,i.utils.arrayIndexOf(n,i.selectExtensions.readValue(s))>=0)}}},i.bindingHandlers.text={update:function(e,n){var r=i.utils.unwrapObservable(n());null!==r&&r!==t||(r=""),"string"==typeof e.innerText?e.innerText=r:e.textContent=r}},i.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){var n=i.utils.unwrapObservable(t());i.utils.setHtml(e,n)}},i.bindingHandlers.css={update:function(e,t){var n=i.utils.unwrapObservable(t()||{});for(var r in n)if("string"==typeof r){var o=i.utils.unwrapObservable(n[r]);i.utils.toggleDomNodeCssClass(e,r,o)}}},i.bindingHandlers.style={update:function(e,t){var n=i.utils.unwrapObservable(t()||{});for(var r in n)if("string"==typeof r){var o=i.utils.unwrapObservable(n[r]);e.style[r]=o||""}}},i.bindingHandlers.uniqueName={init:function(e,t){t()&&(e.name="ko_unique_"+ ++i.bindingHandlers.uniqueName.currentIndex,i.utils.isIe6&&e.mergeAttributes(document.createElement("<input name='"+e.name+"'/>"),!1))}},i.bindingHandlers.uniqueName.currentIndex=0,i.bindingHandlers.checked={init:function(e,t,n){var r=function(){var r;if("checkbox"==e.type)r=e.checked;else{if("radio"!=e.type||!e.checked)return;r=e.value}var o=t();if("checkbox"==e.type&&i.utils.unwrapObservable(o)instanceof Array){var a=i.utils.arrayIndexOf(i.utils.unwrapObservable(o),e.value);e.checked&&a<0?o.push(e.value):!e.checked&&a>=0&&o.splice(a,1)}else if(i.isWriteableObservable(o))o()!==r&&o(r);else{var s=n();s._ko_property_writers&&s._ko_property_writers.checked&&s._ko_property_writers.checked(r)}};i.utils.registerEventHandler(e,"click",r),"radio"!=e.type||e.name||i.bindingHandlers.uniqueName.init(e,function(){return!0})},update:function(e,t){var n=i.utils.unwrapObservable(t());"checkbox"==e.type?(n instanceof Array?e.checked=i.utils.arrayIndexOf(n,e.value)>=0:e.checked=n,n&&i.utils.isIe6&&e.mergeAttributes(document.createElement("<input type='checkbox' checked='checked' />"),!1)):"radio"==e.type&&(e.checked=e.value==n,e.value==n&&(i.utils.isIe6||i.utils.isIe7)&&e.mergeAttributes(document.createElement("<input type='radio' checked='checked' />"),!1))}},i.bindingHandlers.attr={update:function(e,n,r){var o=i.utils.unwrapObservable(n())||{};for(var a in o)if("string"==typeof a){var s=i.utils.unwrapObservable(o[a]);s===!1||null===s||s===t?e.removeAttribute(a):e.setAttribute(a,s.toString())}}},i.bindingHandlers.hasfocus={init:function(e,t,n){var r=function(e){var r=t();if(e!=i.utils.unwrapObservable(r))if(i.isWriteableObservable(r))r(e);else{var o=n();o._ko_property_writers&&o._ko_property_writers.hasfocus&&o._ko_property_writers.hasfocus(e)}};i.utils.registerEventHandler(e,"focus",function(){r(!0)}),i.utils.registerEventHandler(e,"focusin",function(){r(!0)}),i.utils.registerEventHandler(e,"blur",function(){r(!1)}),i.utils.registerEventHandler(e,"focusout",function(){r(!1)})},update:function(e,t){var n=i.utils.unwrapObservable(t());n?e.focus():e.blur(),i.utils.triggerEvent(e,n?"focusin":"focusout")}},i.bindingHandlers.with={makeTemplateValueAccessor:function(e){return function(){var t=e();return{if:t,data:t,templateEngine:i.nativeTemplateEngine.instance}}},init:function(e,t,n,r,o){return i.bindingHandlers.template.init(e,i.bindingHandlers.with.makeTemplateValueAccessor(t))},update:function(e,t,n,r,o){return i.bindingHandlers.template.update(e,i.bindingHandlers.with.makeTemplateValueAccessor(t),n,r,o)}},i.jsonExpressionRewriting.bindingRewriteValidators.with=!1,i.virtualElements.allowedBindings.with=!0,i.bindingHandlers.if={makeTemplateValueAccessor:function(e){return function(){return{if:e(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(e,t,n,r,o){return i.bindingHandlers.template.init(e,i.bindingHandlers.if.makeTemplateValueAccessor(t))},update:function(e,t,n,r,o){return i.bindingHandlers.template.update(e,i.bindingHandlers.if.makeTemplateValueAccessor(t),n,r,o)}},i.jsonExpressionRewriting.bindingRewriteValidators.if=!1,i.virtualElements.allowedBindings.if=!0,i.bindingHandlers.ifnot={makeTemplateValueAccessor:function(e){return function(){return{ifnot:e(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(e,t,n,r,o){return i.bindingHandlers.template.init(e,i.bindingHandlers.ifnot.makeTemplateValueAccessor(t))},update:function(e,t,n,r,o){return i.bindingHandlers.template.update(e,i.bindingHandlers.ifnot.makeTemplateValueAccessor(t),n,r,o)}},i.jsonExpressionRewriting.bindingRewriteValidators.ifnot=!1,i.virtualElements.allowedBindings.ifnot=!0,i.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=i.utils.unwrapObservable(e());return t&&"number"!=typeof t.length?{foreach:t.data,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,templateEngine:i.nativeTemplateEngine.instance}:{foreach:t,templateEngine:i.nativeTemplateEngine.instance}}},init:function(e,t,n,r,o){return i.bindingHandlers.template.init(e,i.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,r,o){return i.bindingHandlers.template.update(e,i.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,r,o)}},i.jsonExpressionRewriting.bindingRewriteValidators.foreach=!1,i.virtualElements.allowedBindings.foreach=!0,i.templateEngine=function(){},i.templateEngine.prototype.renderTemplateSource=function(e,t,n){throw"Override renderTemplateSource in your ko.templateEngine subclass"},i.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw"Override createJavaScriptEvaluatorBlock in your ko.templateEngine subclass"},i.templateEngine.prototype.makeTemplateSource=function(e){if("string"==typeof e){var t=document.getElementById(e);if(!t)throw new Error("Cannot find template with ID "+e);return new i.templateSources.domElement(t)}if(1==e.nodeType||8==e.nodeType)return new i.templateSources.anonymousTemplate(e);throw new Error("Unrecognised template type: "+e)},i.templateEngine.prototype.renderTemplate=function(e,t,n){var r=this.makeTemplateSource(e);return this.renderTemplateSource(r,t,n)},i.templateEngine.prototype.isTemplateRewritten=function(e){return this.allowTemplateRewriting===!1||(!(!this.knownRewrittenTemplates||!this.knownRewrittenTemplates[e])||this.makeTemplateSource(e).data("isRewritten"))},i.templateEngine.prototype.rewriteTemplate=function(e,t){var n=this.makeTemplateSource(e),r=t(n.text());n.text(r),n.data("isRewritten",!0),"string"==typeof e&&(this.knownRewrittenTemplates=this.knownRewrittenTemplates||{},this.knownRewrittenTemplates[e]=!0)},i.exportSymbol("ko.templateEngine",i.templateEngine),i.templateRewriting=function(){function e(e){for(var t=i.jsonExpressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var r=e[n].key;if(t.hasOwnProperty(r)){var o=t[r];if("function"==typeof o){var a=o(e[n].value);if(a)throw new Error(a)}else if(!o)throw new Error("This template engine does not support the '"+r+"' binding within its templates")}}}function t(t,n,r){var o=i.jsonExpressionRewriting.parseObjectLiteral(t);e(o);var a=i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(o),s="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+a+" } })()         })";return r.createJavaScriptEvaluatorBlock(s)+n}return{ensureTemplateIsRewritten:function(e,t){t.isTemplateRewritten(e)||t.rewriteTemplate(e,function(e){return i.templateRewriting.memoizeBindingAttributeSyntax(e,t)})},memoizeBindingAttributeSyntax:function(e,n){return e.replace(/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,function(){return t(arguments[6],arguments[1],n)}).replace(/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g,function(){return t(arguments[1],"<!-- ko -->",n)})},applyMemoizedBindingsToNextSibling:function(e){return i.memoization.memoize(function(t,n){t.nextSibling&&i.applyBindingsToNode(t.nextSibling,e,n)})}}}(),i.exportSymbol("ko.templateRewriting",i.templateRewriting),i.exportSymbol("ko.templateRewriting.applyMemoizedBindingsToNextSibling",i.templateRewriting.applyMemoizedBindingsToNextSibling),function(){i.templateSources={},i.templateSources.domElement=function(e){this.domElement=e},i.templateSources.domElement.prototype.text=function(){if(0==arguments.length)return"script"==this.domElement.tagName.toLowerCase()?this.domElement.text:this.domElement.innerHTML;var e=arguments[0];"script"==this.domElement.tagName.toLowerCase()?this.domElement.text=e:this.domElement.innerHTML=e},i.templateSources.domElement.prototype.data=function(e){if(1===arguments.length)return i.utils.domData.get(this.domElement,"templateSourceData_"+e);i.utils.domData.set(this.domElement,"templateSourceData_"+e,arguments[1])};i.templateSources.anonymousTemplate=function(e){this.domElement=e},i.templateSources.anonymousTemplate.prototype=new i.templateSources.domElement,i.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length)return i.utils.domData.get(this.domElement,"__ko_anon_template__");var e=arguments[0];i.utils.domData.set(this.domElement,"__ko_anon_template__",e)},i.exportSymbol("ko.templateSources",i.templateSources),i.exportSymbol("ko.templateSources.domElement",i.templateSources.domElement),i.exportSymbol("ko.templateSources.anonymousTemplate",i.templateSources.anonymousTemplate)}(),function(){function e(e,t,n){for(var r=0;node=e[r];r++)node.parentNode===t&&(1!==node.nodeType&&8!==node.nodeType||n(node))}function n(e){return e.nodeType?e:e.length>0?e[0]:null}function r(e,t,n,r,o){o=o||{};var s=o.templateEngine||a;i.templateRewriting.ensureTemplateIsRewritten(n,s);var l=s.renderTemplate(n,r,o);if("number"!=typeof l.length||l.length>0&&"number"!=typeof l[0].nodeType)throw"Template engine must return an array of DOM nodes";var u=!1;switch(t){case"replaceChildren":i.virtualElements.setDomNodeChildren(e,l),u=!0;break;case"replaceNode":i.utils.replaceDomNodes(e,l),u=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return u&&(i.activateBindingsOnTemplateRenderedNodes(l,r),o.afterRender&&o.afterRender(l,r.$data)),l}function o(e,t){var n=i.utils.domData.get(e,s);n&&"function"==typeof n.dispose&&n.dispose(),i.utils.domData.set(e,s,t)}var a;i.setTemplateEngine=function(e){if(e!=t&&!(e instanceof i.templateEngine))throw"templateEngine must inherit from ko.templateEngine";a=e},i.activateBindingsOnTemplateRenderedNodes=function(t,n){var r=i.utils.arrayPushAll([],t),o=t.length>0?t[0].parentNode:null;e(r,o,function(e){i.applyBindings(n,e)}),e(r,o,function(e){i.memoization.unmemoizeDomNodeAndDescendants(e,[n])})},i.renderTemplate=function(e,o,s,l,u){if(s=s||{},(s.templateEngine||a)==t)throw"Set a template engine before calling renderTemplate";if(u=u||"replaceChildren",l){var d=n(l),p=function(){return!d||!i.utils.domNodeIsAttachedToDocument(d)},c=d&&"replaceNode"==u?d.parentNode:d;return new i.dependentObservable(function(){var t=o&&o instanceof i.bindingContext?o:new i.bindingContext(i.utils.unwrapObservable(o)),a="function"==typeof e?e(t.$data):e,p=r(l,u,a,t,s);"replaceNode"==u&&(l=p,d=n(l))},null,{disposeWhen:p,disposeWhenNodeIsRemoved:c})}return i.memoization.memoize(function(t){i.renderTemplate(e,o,s,t,"replaceNode")})},i.renderTemplateForEach=function(e,t,n,o,a){var s=function(e){return a.createChildContext(i.utils.unwrapObservable(e))},l=function(e,t){var r=s(e);i.activateBindingsOnTemplateRenderedNodes(t,r),n.afterRender&&n.afterRender(t,r.$data)};return new i.dependentObservable(function(){var a=i.utils.unwrapObservable(t)||[];void 0===a.length&&(a=[a]);var u=i.utils.arrayFilter(a,function(e){return n.includeDestroyed||!e._destroy});i.utils.setDomNodeChildrenFromArrayMapping(o,u,function(t){return r(null,"ignoreTargetNode","function"==typeof e?e(t):e,s(t),n)},n,l)},null,{disposeWhenNodeIsRemoved:o})};var s="__ko__templateSubscriptionDomDataKey__";i.bindingHandlers.template={init:function(e,t){var n=i.utils.unwrapObservable(t());return"string"==typeof n||n.name||1!=e.nodeType||(new i.templateSources.anonymousTemplate(e).text(e.innerHTML),i.utils.emptyDomNode(e)),{controlsDescendantBindings:!0}},update:function(e,t,n,r,a){var s,l=i.utils.unwrapObservable(t()),u=!0;"string"==typeof l?s=l:(s=l.name,"if"in l&&(u=u&&i.utils.unwrapObservable(l.if)),"ifnot"in l&&(u=u&&!i.utils.unwrapObservable(l.ifnot)));var d=null;if(void 0!==l.foreach){var p=u&&l.foreach||[];d=i.renderTemplateForEach(s||e,p,l,e,a)}else if(u){var c="object"==typeof l&&"data"in l?a.createChildContext(i.utils.unwrapObservable(l.data)):a;d=i.renderTemplate(s||e,c,l,e)}else i.virtualElements.emptyNode(e);o(e,d)}},i.jsonExpressionRewriting.bindingRewriteValidators.template=function(e){var t=i.jsonExpressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown?null:i.jsonExpressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},i.virtualElements.allowedBindings.template=!0}(),i.exportSymbol("ko.setTemplateEngine",i.setTemplateEngine),i.exportSymbol("ko.renderTemplate",i.renderTemplate),function(){function e(e,n,r){for(var i=[],o=0;o<=n.length;o++)i[o]=[];for(var o=0,a=Math.min(e.length,r);o<=a;o++)i[0][o]=o;for(var o=1,a=Math.min(n.length,r);o<=a;o++)i[o][0]=o;var s,l,u=e.length,d=n.length;for(s=1;s<=u;s++){var p=Math.max(1,s-r),c=Math.min(d,s+r);for(l=p;l<=c;l++)if(e[s-1]===n[l-1])i[l][s]=i[l-1][s-1];else{var m=i[l-1][s]===t?Number.MAX_VALUE:i[l-1][s]+1,f=i[l][s-1]===t?Number.MAX_VALUE:i[l][s-1]+1;i[l][s]=Math.min(m,f)}}return i}function n(e,n,r){var i=n.length,o=r.length,a=[],s=e[o][i];if(s===t)return null;for(;i>0||o>0;){var l=e[o][i],u=o>0?e[o-1][i]:s+1,d=i>0?e[o][i-1]:s+1,p=o>0&&i>0?e[o-1][i-1]:s+1;(u===t||u<l-1)&&(u=s+1),(d===t||d<l-1)&&(d=s+1),p<l-1&&(p=s+1),u<=d&&u<p?(a.push({status:"added",value:r[o-1]}),o--):d<u&&d<p?(a.push({status:"deleted",value:n[i-1]}),i--):(a.push({status:"retained",value:n[i-1]}),o--,i--)}return a.reverse()}i.utils.compareArrays=function(r,o,a){return a===t?i.utils.compareArrays(r,o,1)||i.utils.compareArrays(r,o,10)||i.utils.compareArrays(r,o,Number.MAX_VALUE):(r=r||[],o=o||[],n(e(r,o,a),r,o))}}(),i.exportSymbol("ko.utils.compareArrays",i.utils.compareArrays),function(){function e(e,t,n,r){var o=[],a=i.dependentObservable(function(){var e=t(n)||[];o.length>0&&(i.utils.replaceDomNodes(o,e),r&&r(n,e)),o.splice(0,o.length),i.utils.arrayPushAll(o,e)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return 0==o.length||!i.utils.domNodeIsAttachedToDocument(o[0])}});return{mappedNodes:o,dependentObservable:a}}i.utils.setDomNodeChildrenFromArrayMapping=function(n,r,o,a,s){r=r||[],a=a||{};for(var l=i.utils.domData.get(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===t,u=i.utils.domData.get(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],d=i.utils.arrayMap(u,function(e){return e.arrayEntry}),p=i.utils.compareArrays(d,r),c=[],m=0,f=[],b=[],g=null,v=0,y=p.length;v<y;v++)switch(p[v].status){case"retained":var h=u[m];c.push(h),h.domNodes.length>0&&(g=h.domNodes[h.domNodes.length-1]),m++;break;case"deleted":u[m].dependentObservable.dispose(),i.utils.arrayForEach(u[m].domNodes,function(e){f.push({element:e,index:v,value:p[v].value}),g=e}),m++;break;case"added":var w=p[v].value,x=e(n,o,w,s),E=x.mappedNodes;c.push({arrayEntry:p[v].value,domNodes:E,dependentObservable:x.dependentObservable});for(var k=0,T=E.length;k<T;k++){var S=E[k];b.push({element:S,index:v,value:p[v].value}),null==g?i.virtualElements.prepend(n,S):i.virtualElements.insertAfter(n,S,g),g=S}s&&s(w,E)}i.utils.arrayForEach(f,function(e){i.cleanNode(e.element)});var N=!1;if(!l){if(a.afterAdd)for(var v=0;v<b.length;v++)a.afterAdd(b[v].element,b[v].index,b[v].value);if(a.beforeRemove){for(var v=0;v<f.length;v++)a.beforeRemove(f[v].element,f[v].index,f[v].value);N=!0}}N||i.utils.arrayForEach(f,function(e){i.removeNode(e.element)}),i.utils.domData.set(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult",c)}}(),i.exportSymbol("ko.utils.setDomNodeChildrenFromArrayMapping",i.utils.setDomNodeChildrenFromArrayMapping),i.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},i.nativeTemplateEngine.prototype=new i.templateEngine,i.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n){var r=e.text();return i.utils.parseHtmlFragment(r)},i.nativeTemplateEngine.instance=new i.nativeTemplateEngine,i.setTemplateEngine(i.nativeTemplateEngine.instance),i.exportSymbol("ko.nativeTemplateEngine",i.nativeTemplateEngine),function(){i.jqueryTmplTemplateEngine=function(){function e(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function t(e,t,r){if(n<3)return jQuery.tmpl(e,t,r);var o=jQuery.render(e,t,r);return jQuery(i.utils.parseHtmlFragment(o))}var n=this.jQueryTmplVersion=function(){if("undefined"==typeof jQuery||!jQuery.tmpl&&!jQuery.render)return 0;try{if(jQuery.render)return 3;if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();if(this.renderTemplateSource=function(r,i,o){o=o||{},e();var a=r.data("precompiled");if(!a){var s=r.text()||"";s="{{ko_with "+(2==n?"$item":"$ctx")+".koBindingContext}}"+s+"{{/ko_with}}",a=jQuery.template(null,s),r.data("precompiled",a)}var l=[i.$data],u=jQuery.extend({koBindingContext:i},o.templateOptions),d=t(a,l,u);return d.appendTo(document.createElement("div")),jQuery.fragments={},d},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){document.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},n>=2){var r=2==n?"tmpl":"tmplSettings";jQuery[r].tag.ko_code={open:"__.push($1 || '');"},jQuery[r].tag.ko_with={open:"with($1) {",close:"} "}}},i.jqueryTmplTemplateEngine.prototype=new i.templateEngine;var e=new i.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&i.setTemplateEngine(e),i.exportSymbol("ko.jqueryTmplTemplateEngine",i.jqueryTmplTemplateEngine)}()}(window);