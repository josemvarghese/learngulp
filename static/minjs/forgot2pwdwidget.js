function PasswordWidget(t,e){this.maindivobj=document.getElementById(t),this.pwdobjname=e,this.MakePWDWidget=_MakePWDWidget,this.showing_pwd=1,this.txtShow="",this.txtMask="",this.txtGenerate="",this.txtWeak="",this.txtMedium="",this.txtGood="",this.enableShowMask=!1,this.enableGenerate=!1,this.enableShowStrength=!0,this.enableShowStrengthStr=!0}function _MakePWDWidget(){var t="",e=this.pwdobjname;this.pwdfieldid=e+"_id",t+="<input stopccp type='password' ng-focus='pwderr=false' ng-blur='pwderr=true' class=' nav-width' placeholder='New Password'  name='"+e+"' id='"+this.pwdfieldid+"' ng-model='pwd' minlength='8' required equals='{{cnfpwd}}' pwdpolicy maxlength='32'>",this.pwdtxtfield=e+"_text",this.pwdtxtfieldid=this.pwdtxtfield+"_id",this.pwdshowdiv=e+"_showdiv",this.pwdshow_anch=e+"_show_anch",this.pwdgendiv=e+"_gendiv",this.pwdgenerate_anch=e+"_gen_anch",this.pwdstrengthdiv=e+"_strength_div",t+="<div class='pwdstrength-fgt' id='"+this.pwdstrengthdiv+"'>",this.pwdstrengthbar=e+"_strength_bar",t+="<div class='pwdstrengthbar' id='"+this.pwdstrengthbar+"'></div>",this.pwdstrengthstr=e+"_strength_str",t+="<div class='pwdstrengthstr' id='"+this.pwdstrengthstr+"'></div>",t+="</div>",this.maindivobj.innerHTML=t,this.pwdfieldobj=document.getElementById(this.pwdfieldid),this.pwdfieldobj.pwdwidget=this,this.pwdstrengthbar_obj=document.getElementById(this.pwdstrengthbar),this.pwdstrengthstr_obj=document.getElementById(this.pwdstrengthstr),this._showPasswordStrength=passwordStrength,this.pwdfieldobj.onkeyup=function(){this.pwdwidget._onKeyUpPwdFields()},this._onKeyUpPwdFields=onKeyUpPwdFields,this.enableShowStrength||(document.getElementById(this.pwdstrengthdiv).style.display="none"),this.enableShowStrengthStr||(document.getElementById(this.pwdstrengthstr).style.display="none")}function onKeyUpPwdFields(){this._showPasswordStrength()}function updatePwdFieldValues(){1==this.showing_pwd?this.pwdtxtfield_obj.value=this.pwdfieldobj.value:this.pwdfieldobj.value=this.pwdtxtfield_obj.value}function showpwdchars(){var t="",e=this.pwdfieldobj,i=this.pwdtxtfield_obj;1==this.showing_pwd?(this.showing_pwd=0,t=this.txtMask,i.value=e.value,e.style.display="none",i.style.display="",i.focus()):(this.showing_pwd=1,t=this.txtShow,e.value=i.value,i.style.display="none",e.style.display="",e.focus()),this.show_anch_obj.innerHTML=t}function passwordStrength(){var t=new Array;t[0]="#FF2626",t[1]="#FF2626",t[2]="#FF9239",t[3]="#FF9239",t[4]="#399800",t[5]="#399800";var e=this.pwdfieldobj,i=e.value,s=0;i.length>6&&s++,i.match(/[a-z]/)&&i.match(/[A-Z]/)&&s++,i.match(/\d+/)&&s++,i.match(/[^a-z\d]+/)&&s++,i.length>12&&s++;var d=(t[s],this.pwdstrengthbar_obj);d.style.background=t[s],i.length<=0?d.style.width=0:d.style.width=35*(s+1)+"px";var h="";i.length<1?h="":s<3?h=this.txtWeak:s<4?h=this.txtMedium:s>=4&&(h=this.txtGood),this.pwdstrengthstr_obj.innerHTML=h}function getRand(t){return Math.floor(Math.random()*t)}function shuffleString(t){var e=t.split("");for(i=0;i<t.length;i++){var s=i,d=getRand(t.length),h=e[s];e[s]=e[d],e[d]=h}return e.join("")}function showGeneatedPwd(){var t=generatePWD();this.pwdfieldobj.value=t,this.pwdtxtfield_obj.value=t,this._showPasswordStrength()}function generatePWD(){var t="~!@#$%^&*(){}?><`=-|][",e="";for(i=0;i<3;i++)e+=String.fromCharCode("a".charCodeAt(0)+getRand(26));for(i=0;i<3;i++)e+=String.fromCharCode("A".charCodeAt(0)+getRand(26));for(i=0;i<3;i++)e+=String.fromCharCode("0".charCodeAt(0)+getRand(10));for(i=0;i<4;i++)e+=t.charAt(getRand(t.length));return e=shuffleString(e),e=shuffleString(e),e=shuffleString(e)}