"use strict";var Module=angular.module("datePicker");Module.directive("dateRange",["$compile","datePickerUtils","dateTimeConfig",function(t,e,a){function n(t,e,n,r,i){return a.template(angular.extend(t,{ngModel:n,minDate:!(!r||!moment.isMoment(r))&&r.format(),maxDate:!(!i||!moment.isMoment(i))&&i.format()}),e)}function r(){return"picker"+Math.random().toString().substr(2)}return{scope:{start:"=",end:"="},link:function(a,i,d){function o(t){a.$broadcast("pickerUpdate",m[0],{maxDate:t})}function c(t){a.$broadcast("pickerUpdate",m[1],{minDate:t})}var s=null,u=i[0].id,m=[r(),r()],l=e.createMoment,p=e.eventIsForPicker;a.dateChange=function(t,e){s&&s(t,e)},u&&a.$on("pickerUpdate",function(t,e,n){p(e,u)&&a.$broadcast("pickerUpdate",m,n)}),e.setParams(d.timezone),a.start=l(a.start),a.end=l(a.end),a.$watchGroup(["start","end"],function(t){c(t[0]),o(t[1])}),angular.isDefined(d.dateChange)&&(s=e.findFunction(a,d.dateChange)),d.onSetDate="dateChange";var f='<div><table class="date-range"><tr><td valign="top">'+n(d,m[0],"start",!1,a.end)+'</td><td valign="top">'+n(d,m[1],"end",a.start,!1)+"</td></tr></table></div>",g=t(f)(a);i.append(g)}}}]);