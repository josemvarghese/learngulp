!function(e){"use strict";function t(e){return{restrict:"A",link:function(t,n,i,r){n.css({height:"auto","overflow-y":"hidden"}),e(function(){n.css("height",n[0].scrollHeight+"px")},100),n.on("input",function(){n.css({height:"auto","overflow-y":"hidden"}),n.css("height",n[0].scrollHeight+"px")})}}}e.filter("isEmpty",function(){return function(e){return!!angular.equals({},e)}}),e.filter("FilterBoolObj",function(){return function(e,t){var n=[];return angular.forEach(e,function(e){e==t&&n.push(e)}),n}}),e.filter("multFilter",function(e){return function(e,t){var n=[];return angular.forEach(e,function(e){var i=!1;angular.forEach(t,function(t,r){!i&&void 0==t|""==t?(n.push(e),i=!0):i||0!=e[r].toLowerCase().indexOf(t.toLowerCase())||(n.push(e),i=!0)})}),n}}),e.filter("imagefilterQ2",function(){return function(e){var t=e.split(".").pop();return e.replace("."+t,"_Q2."+t)}}),e.filter("imagefilterQ1",function(){return function(e){var t=e.split(".").pop();return e.replace("."+t,"_Q1."+t)}}),e.filter("highlight",function(e){return function(t,n){if(void 0!=t)return n&&(t=t.replace(new RegExp("("+n+")","gi"),'<span class="highlighted">$1</span>')),e.trustAsHtml(t)}}),e.filter("unique",function(){return function(e,t){if(t===!1)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n=[],i=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){for(var t=!1,r=0;r<n.length;r++)if(angular.equals(i(n[r]),i(e))){t=!0;break}t||n.push(e)}),e=n}return e}}),e.filter("customOrderBy",function(){return function(e,t){return void 0==e||e.sort(function(e,t){return moment(t.time,"HH:mm").diff(moment(e.time,"HH:mm"))>0?-1:1})}}),e.filter("DTOrderBy",function(){return function(e,t){return void 0==e||e.sort(function(e,t){return moment(t.created_at).diff(moment(e.created_at))<0?-1:1})}}),e.filter("ADTOrderBy",function(){return function(e,t){return void 0==e||e.sort(function(e,t){return moment(t.activity_time).diff(moment(e.activity_time))<0?-1:1})}}),e.filter("timeAgo",["$interval",function(e){function t(e){return moment(e).fromNow()}return e(function(){},6e4),t.$stateful=!0,t}]),e.filter("capitalize",function(){return function(e,t){var n=t?/([^\W_]+[^\s-]*) */g:/([^\W_]+[^\s-]*)/;return e?e.replace(n,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):""}}),e.directive("capitalizeWord",function(){return{require:"ngModel",link:function(e,t,n,i){var r,a,o=function(){var t=i.$viewValue,o=n.capitalizeWord;if(null!=o&&void 0!=o&&""!=o||(o=!1),void 0!=e.keyvalue)if(8==e.keyvalue.keyCode||8==r||37==e.keyvalue.keyCode)r=8,a=37;else{var l=o?/([^\W_]+[^\s-]*) */g:/([^\W_]+[^\s-]*)/,u=t?t.replace(l,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):"";i.$setViewValue(u),i.$render()}};e.$watch(n.ngModel,function(){o()})}}}),e.directive("dayWord",function(){return{require:"ngModel",link:function(e,t,n,i){var r=function(){var e=i.$viewValue;if(void 0!=e&&null!=e&&""!=e)if(e=e.toLowerCase(),e.indexOf("day")<0&&0!=e.indexOf("day"))i.$setValidity("invalidword",!0);else{var t=e.split(" ");2==t.length?isNaN(Number(t[1]))?i.$setValidity("invalidword",!0):i.$setValidity("invalidword",!1):i.$setValidity("invalidword",!0)}else i.$setValidity("invalidword",!0)};e.$watch(n.ngModel,function(){r()})}}}),e.directive("stopccp",function(){return{scope:{},link:function(e,t){t.on("cut copy paste",function(e){e.preventDefault()})}}}),e.filter("startswith",function(){return function(e,t,n){return void 0==t||null==t||""==t||e.filter(function(e){return 0===(n?e[n]:e).toString().indexOf(t)})}}),e.filter("orderByDayNumber",function(){return function(e,t,n){var i=[];return angular.forEach(e,function(e){i.push(e)}),i.sort(function(e,n){return e[t]>n[t]?1:-1}),n&&i.reverse(),i}}),e.filter("custom",function(){return function(e,t){if(!e)return e;if(!t)return e;var n=(""+t).toLowerCase(),i={};return angular.forEach(e,function(e,t){0==(""+e.name).toLowerCase().indexOf(n)&&(i[t]=e)}),i}}),e.directive("ngIncludeTemplate",function(){return{templateUrl:function(e,t){return t.ngIncludeTemplate},scope:!0,link:function(e,t,n){n.copyright&&(new Date).getFullYear()>2010&&(e.copyDate=(new Date).getFullYear())}}}),e.directive("ngFileSelected",function(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files[0],e.getFile1()})}}}),e.directive("ngFileSelected1",function(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files[0],e.getFile2()})}}}),e.directive("ngFileSelected2",function(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files[0],e.getFile3()})}}}),e.directive("ngFileSelect",function(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files[0],e.getFile()})}}}),e.directive("custMap",function(){return{restrict:"EA",require:"?ngModel",scope:{myModel:"=ngModel",zoom:"=zoom"},link:function(e,t,n,i){var r,a,o,l,u;i.$render=function(){l=new google.maps.LatLng(e.myModel.latitude,e.myModel.longitude),void 0!=e.myModel.zoom&&null!=e.myModel.zoom&&""!=e.myModel.zoom||(e.myModel.zoom=12),r={center:l,zoom:e.myModel.zoom,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP]},mapTypeControl:!1,streetViewControl:!1},a=new google.maps.Map(t[0],r),o=new google.maps.Marker({position:l,map:a,draggable:!0,animation:google.maps.Animation.DROP}),google.maps.event.addListener(o,"dragstart",function(){u=e.myModel}.bind(this)),google.maps.event.addListener(o,"dragend",function(){var t,i,r,a,l,d,c;t=new google.maps.Geocoder;var s=new google.maps.LatLng(o.getPosition().lat(),o.getPosition().lng());t.geocode({latLng:s},function(t,s){if(s==google.maps.GeocoderStatus.OK)if(t[0]){var f=t[0].formatted_address,g=f.split(",");r=g.length,i=g[r-1],a=g[r-2],l=g[r-3]}else console.log("address not found");else console.log("Geocoder failed due to: "+s);try{void 0!=i&&i.toLowerCase().trim()==n.country.toLowerCase().trim()?(d=o.getPosition().lat(),c=o.getPosition().lng()):(d=u.latitude,c=u.longitude)}catch(e){d=u.latitude,c=u.longitude}e.$apply(function(){e.myModel.latitude=d,e.myModel.longitude=c;var t=new google.maps.LatLng(e.myModel.latitude,e.myModel.longitude);o.setPosition(t)})})}.bind(this))},e.$watch("myModel",function(t){var n=new google.maps.LatLng(e.myModel.latitude,e.myModel.longitude);o.setPosition(n)},!0)}}}),e.directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=e(i.fileModel),a=r.assign;n.bind("change",function(){t.$apply(function(){a(t,n[0].files[0])})})}}}]),e.directive("focus",function(e){return{scope:{trigger:"@focus"},link:function(t,n){t.$watch("trigger",function(t){"true"===t&&e(function(){n[0].focus()})})}}}),app.directive("ngEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.ngEnter)}),t.preventDefault())})}});var n=function(){return{restrict:"E",require:"?ngModel",link:function(e,t,n,i){i&&(t.on("focus",function(){t.addClass("has-focus"),e.$$phase?i.hasFocus=!0:e.$apply(function(){i.hasFocus=!0})}),t.on("blur",function(){t.removeClass("has-focus"),t.addClass("has-visited"),e.$$phase?(i.hasFocus=!1,i.hasVisited=!0):e.$apply(function(){i.hasFocus=!1,i.hasVisited=!0})}))}}};e.directive("input",n),e.directive("textarea",n),e.directive("twitterUrl",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e="https://twitter.com/";void 0==i.$viewValue&&(i.$setViewValue(e),i.$render());var t=i.$viewValue.replace(e,""),n="";n=i.$viewValue.indexOf(e)<0||i.$viewValue.length<e.length?e:e+t,i.$setViewValue(n),i.$render()}e.$watch(n.ngModel,function(){r()})}}}),e.directive("tumblrUrl",function(){return{require:"ngModel",link:function(e,t,n,i){function r(e){if(void 0!=i.$viewValue&&""!=i.$viewValue&&null!=i.$viewValue){var t=i.$viewValue;t=t.replace("https://",""),t=t.replace(".tumblr.com",""),i.$setViewValue(t),i.$render()}}e.$watch(n.ngModel,function(e,t){r(t)},!0)}}}),e.directive("webUrl",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e="http://";void 0==i.$viewValue&&(i.$setViewValue(e),i.$render());var t=i.$viewValue.replace(e,""),n="";n=i.$viewValue.indexOf(e)<0||i.$viewValue.length<e.length?e:e+t,i.$setViewValue(n),i.$render()}e.$watch(n.ngModel,function(){r()})}}}),e.directive("webUrlValid",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){void 0!=i.$viewValue&&""!=i.$viewValue&&null!=i.$viewValue&&(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(i.$viewValue)?i.$setValidity("urlvalid",!0):i.$setValidity("urlvalid",!1))}e.$watch(n.ngModel,function(){r()})}}}),e.directive("githubUrl",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e="https://github.com/";void 0==i.$viewValue&&(i.$setViewValue(e),i.$render());var t=i.$viewValue.replace(e,""),n="";n=i.$viewValue.indexOf(e)<0||i.$viewValue.length<e.length?e:e+t,i.$setViewValue(n),i.$render()}e.$watch(n.ngModel,function(){r()})}}}),e.directive("instagramUrl",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e="https://www.instagram.com/";void 0==i.$viewValue&&(i.$setViewValue(e),i.$render());var t=i.$viewValue.replace(e,""),n="";n=i.$viewValue.indexOf(e)<0||i.$viewValue.length<e.length?e:e+t,i.$setViewValue(n),i.$render()}e.$watch(n.ngModel,function(){r()})}}}),e.directive("pinterestUrl",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e="https://www.pinterest.com/";void 0==i.$viewValue&&(i.$setViewValue(e),i.$render());var t=i.$viewValue.replace(e,""),n="";n=i.$viewValue.indexOf(e)<0||i.$viewValue.length<e.length?e:e+t,i.$setViewValue(n),i.$render()}e.$watch(n.ngModel,function(){r()})}}}),e.directive("fbUrl",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e="https://www.facebook.com/";void 0==i.$viewValue&&(i.$setViewValue(e),i.$render());var t=i.$viewValue.replace(e,""),n="";n=i.$viewValue.indexOf(e)<0||i.$viewValue.length<e.length?e:e+t,i.$setViewValue(n),i.$render()}e.$watch(n.ngModel,function(){r()})}}}),e.directive("imgValidate",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e=i.$viewValue;e.type.indexOf("image")>=0&&(e.type.indexOf("jpeg")>=0||e.type.indexOf("png")>=0)?i.$setValidity("invalidimg",!0):i.$setValidity("invalidimg",!1)}e.$watch(n.ngModel,function(){void 0!=i.$viewValue&&null!=i.$viewValue&&""!=i.$viewValue&&r()})}}}),e.directive("linkedinUrl",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e="https://www.linkedin.com/";void 0==i.$viewValue&&(i.$setViewValue(e),i.$render());var t=i.$viewValue.replace(e,""),n="";n=i.$viewValue.indexOf(e)<0||i.$viewValue.length<e.length?e:e+t,i.$setViewValue(n),i.$render()}e.$watch(n.ngModel,function(){r()})}}}),e.directive("wordValid",function(){return{require:"ngModel",link:function(e,t,n,i){function r(){var e=i.$viewValue;if(void 0==e||null==e||""==e)i.$setValidity("minwords",!0),i.$setValidity("maxwords",!0);else{i.$setValidity("minwords",!0),i.$setValidity("maxwords",!0);var t=e.split(" ").length;e.split(" ");t<=1?i.$setValidity("minwords",!1):t>3?i.$setValidity("maxwords",!1):i.$setValidity("maxwords",!0)}}e.$watch(n.ngModel,function(){r()})}}}),e.directive("accessibleForm",function(e,t){return{restrict:"A",link:function(e,t){t.on("submit",function(){var e=t[0].querySelector(".ng-invalid");e&&$("html, body").animate({scrollTop:$(e).offset().top-300},"fast")})}}}),e.directive("toggleClass",function(){return{restrict:"A",link:function(e,t,n){t.bind("click",function(){t.toggleClass(n.toggleClass)})}}}),e.directive("isNumber",function(){return{require:"ngModel",link:function(e,t,n,i){function r(e){if(e){var t=e.replace(/[^0-9]/g,"");return t!==e&&(i.$setViewValue(t),i.$render()),parseInt(t,10)}return null}i.$parsers.push(r)}}}),e.directive("isdialcode",function(){return{require:"ngModel",link:function(e,t,n,i){function r(e){if(e){var t=e.replace(/[^0-9,+,\s,-]/g,"");return t!==e&&(i.$setViewValue(t),i.$render()),t=e.replace(/[^0-9]/g,""),parseInt(t,10)}return null}i.$parsers.push(r)}}}),e.directive("passwordStrength",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){e.$watch(n.ngModel,function(){r()});var r=function(){var t=i.$viewValue,n="";if(void 0!=t){n=t.length;var r=new Array;r[0]="Very Weak",r[1]="Weak",r[2]="Better",r[3]="Medium",r[4]="Strong",r[5]="Strongest",e.score=0,n>6&&e.score++,t.match(/[a-z]/)&&t.match(/[A-Z]/)&&e.score++,t.match(/\d+/)&&e.score++,t.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)&&e.score++,n>12&&e.score++,e.strenghtMsg=r[e.score]}}}}}}),e.directive("validfile",function(){var e=["jpg","gif"];return{require:"ngModel",link:function(t,n,i,r){r.$validators.validFile=function(){n.on("change",function(){var t=n.val(),i=t.substring(t.lastIndexOf(".")+1).toLowerCase();return r.$setValidity("validimg",e.indexOf(i)!==-1),console.log(e.indexOf(i)!==-1),e.indexOf(i)!==-1})}}}}),e.directive("equals",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){e.$watch(n.ngModel,function(){r()}),n.$observe("equals",function(e){r()});var r=function(){var e=i.$viewValue,t=n.equals;i.$setValidity("equals",!e||!t||e===t)}}}}}),e.directive("pwdpolicy",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){e.$watch(n.ngModel,function(){r()});var r=function(){var e=i.$viewValue;/(?=.*\d)(?=.*[A-Z]).{8,}/.test(e)?i.$setValidity("pwdpolicy",!0):i.$setValidity("pwdpolicy",!1)}}}}}),e.directive("domain",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){e.$watch(n.ngModel,function(){r()});var r=function(){var e=i.$viewValue;if(!i.$isEmpty(e)&&void 0==i.$error.email){var t=e.split("@"),r=n.domain;null!=r||void 0!=r||""!=r?t[1]!=r?i.$setValidity("domain",!1):i.$setValidity("domain",!0):i.$setValidity("domain",!1)}}}}}}),e.directive("validateEmail",function(){var e=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,63})$/;return{require:"ngModel",restrict:"",link:function(t,n,i,r){r&&r.$validators.email&&(r.$validators.email=function(t){return r.$isEmpty(t)||e.test(t)})}}}),e.directive("draggable",function(){return{scope:{dragstart:"&",dragend:"&"},link:function(e,t){var n=t[0];n.draggable=!0,n.addEventListener("dragstart",function(t){return t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("Text",this.id),this.classList.add("drag"),e.$apply("dragstart()"),!1},!1),n.addEventListener("dragend",function(t){return this.classList.remove("drag"),e.$apply("dragend()"),!1},!1)}}}),e.directive("droppable",function(){return{scope:{drop:"&",dragover:"&",dragenter:"&",dragleave:"&"},link:function(e,t){var n=t[0];n.addEventListener("dragover",function(t){return t.dataTransfer.dropEffect="move",t.preventDefault&&t.preventDefault(),this.classList.add("over"),e.$apply("dragover()"),!1},!1),n.addEventListener("dragenter",function(t){return this.classList.add("over"),e.$apply("dragenter()"),!1},!1),n.addEventListener("dragleave",function(t){return this.classList.remove("over"),e.$apply("dragleave()"),!1},!1),n.addEventListener("drop",function(t){return t.stopPropagation&&t.stopPropagation(),e.$apply("drop()"),this.classList.remove("over"),!1},!1)}}}),e.directive("dateTimePickerInput",["$mdDialog","$filter",function(e,t){return{restrict:"A",require:"ngModel",link:function(n,i,r,a){function o(e){return t("date")(e,r.displayFormat||"EEEE d MMMM yyyy, h:mm a")}if("input"!==i[0].tagName.toLowerCase()||"text"!==r.type.toLowerCase())throw new Error('date-time-picker-input directive must be instantiated as an attribute of a input with type="text"');var l;i.on("click",function(){l||(l=e.show({parent:angular.element(document.querySelector("body")),template:'<md-dialog><time-date-picker display-mode="{{displayMode}}" default-mode="{{defaultMode}}" default-date="{{defaultDate}}" mindate="{{mindate}}" maxdate="{{maxdate}}" ng-model="model" on-cancel="onCancel()" on-save="onSave()"></time-date-picker></md-dialog>',controller:function(e,t){var n=["displayMode","defaultDate","defaultMode","mindate","maxdate"];angular.forEach(n,function(t){e[t]=r[t]}),angular.isDate(a.$modelValue)&&(e.model=a.$modelValue),e.onCancel=function(){t.cancel(),i[0].focus(),i[0].blur()},e.onSave=function(){t.hide(e.model)}},show:!0}).then(function(e){a.$modelValue.setTime(e.getTime()),a.$setDirty(),i.val(o(e)),l=null}))}),r.ngMin&&(a.$validators.min=function(e){return new Date(e)>=new Date(r.ngMin)}),r.ngMax&&(a.$validators.max=function(e){return new Date(e)<=new Date(r.ngMax)}),a.$formatters.push(o)}}}]),e.directive("backButton",function(e,t){return{restrict:"A",link:function(n,i,r){function a(){if(l++,"false"==localStorage.getItem("checked_yara_navigation")){var i='<div class="modal fade" id="myModal-test" tabindex="-1" data-backdrop="static"  role="dialog" aria-labelledby="myModalLabel" style="background-color: rgba(0,0,0,0.3)!important;">';i+='<div class="modal-dialog gatekeeper-popup" role="document" style="width:450px;">',i+='<div class="modal-content modal-padding" >',i+='<img src="../../../static/dashboard/images/close-search.png" class="clearer navigation-close" data-dismiss="modal" aria-label="Close">',i+='<div class="modal-body1">',i+="<div>",i+='<div class="row">',i+='<div class="col-md-12 text-left" style="padding:2px 0 26px 0;">',i+='<h4 class="modal-title modal-heading text-left color-black" id="myModalLabel" >Navigation Tips</h4>',i+='<div class="color-gray font-weight400">Click once to go to Dashboard',i+="</div>",i+='<div class="color-gray font-weight400">Double click to go to previous page',i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div> </div> </div></div></div>",$("body").append(i),$("#myModal-test").modal("show"),l=0,t({method:"POST",url:e.url+"/login_utils/",data:{}}).then(function(e){console.log(e),1==e.data.result&&localStorage.setItem("checked_yara_navigation",e.data.checked_yara_navigation)})}else 1==l?u=setTimeout(function(){var t=localStorage.getItem("dashboardUrl");null==t&&(t="dashboard"),window.location=e.yaraevents+"/"+t,l=0},o):2==l&&(clearTimeout(u),history.back(),n.$apply(),l=0)}var o=300,l=0,u=null;i.bind("click",a)}}}),e.directive("autoResize",t),t.$inject=["$timeout"],e.directive("firstName",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=function(){var t=i.$viewValue;if(e.wordlength=!0,e.middleNameMaxLength=!1,e.firstNameMaxLength=!1,e.lastNameMaxLength=!1,void 0!=t){var n=t.split(" ");n.length>=2?e.wordlength=!1:e.wordlength=!0;var r=0;if(n[0].trim().length<=20){if(n.length>2)if(n[n.length-1].trim().length<=20){for(var a=1;a<n.length-1;a++)""!=n[a]&&(r+=n[a].trim().length);r>30&&(e.middleNameMaxLength=!0,e.firstNameMaxLength=!1,e.lastNameMaxLength=!1)}else e.middleNameMaxLength=!1,e.firstNameMaxLength=!1,e.lastNameMaxLength=!0}else e.middleNameMaxLength=!1,e.firstNameMaxLength=!0,e.lastNameMaxLength=!1}};e.$watch(n.ngModel,function(){r()})}}})}(angular.module("YaraDirective",[]));